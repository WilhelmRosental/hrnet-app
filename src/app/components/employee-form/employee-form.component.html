<div class="container">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Create Employee</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
                <div class="form-grid">
                    <!-- Personal Information Section -->
                    <div class="form-section">
                        <h2>Personal Information</h2>
                        <mat-divider></mat-divider>

                        <mat-form-field appearance="outline">
                            <mat-label>First Name</mat-label>
                            <input matInput formControlName="firstName">
                            @if (employeeForm.get('firstName')?.invalid && (employeeForm.get('firstName')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                First name is required and should be at least 2 characters.
                            </mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Last Name</mat-label>
                            <input matInput formControlName="lastName">
                            @if (employeeForm.get('lastName')?.invalid && (employeeForm.get('lastName')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                Last name is required and should be at least 2 characters.
                            </mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Date of Birth</mat-label>
                            <input matInput [matDatepicker]="birthDatePicker" formControlName="dateOfBirth">
                            <mat-datepicker-toggle matIconSuffix [for]="birthDatePicker"></mat-datepicker-toggle>
                            <mat-datepicker #birthDatePicker></mat-datepicker>
                            @if (employeeForm.get('dateOfBirth')?.invalid && (employeeForm.get('dateOfBirth')?.touched
                            ||
                            formSubmitted)) {
                            <mat-error>
                                Date of birth is required.
                            </mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <!-- Address Section -->
                    <div class="form-section">
                        <h2>Address</h2>
                        <mat-divider></mat-divider>

                        <mat-form-field appearance="outline">
                            <mat-label>Street</mat-label>
                            <input matInput formControlName="street">
                            @if (employeeForm.get('street')?.invalid && (employeeForm.get('street')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                Street is required.
                            </mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>City</mat-label>
                            <input matInput formControlName="city">
                            @if (employeeForm.get('city')?.invalid && (employeeForm.get('city')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                City is required.
                            </mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>State</mat-label>
                            <mat-select formControlName="state">
                                @for (state of states; track state) {
                                <mat-option [value]="state">{{ state }}</mat-option>
                                }
                            </mat-select>
                            @if (employeeForm.get('state')?.invalid && (employeeForm.get('state')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                State is required.
                            </mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Zip Code</mat-label>
                            <input matInput formControlName="zipCode">
                            @if (employeeForm.get('zipCode')?.invalid && (employeeForm.get('zipCode')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                Zip code is required and must be a 5-digit number.
                            </mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <!-- Employment Information Section -->
                    <div class="form-section">
                        <h2>Employment Information</h2>
                        <mat-divider></mat-divider>

                        <mat-form-field appearance="outline">
                            <mat-label>Start Date</mat-label>
                            <input matInput [matDatepicker]="startDatePicker" formControlName="startDate">
                            <mat-datepicker-toggle matIconSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                            <mat-datepicker #startDatePicker></mat-datepicker>
                            @if (employeeForm.get('startDate')?.invalid && (employeeForm.get('startDate')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                Start date is required.
                            </mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Department</mat-label>
                            <mat-select formControlName="department">
                                @for (department of departments; track department) {
                                <mat-option [value]="department">{{ department }}</mat-option>
                                }
                            </mat-select>
                            @if (employeeForm.get('department')?.invalid && (employeeForm.get('department')?.touched ||
                            formSubmitted)) {
                            <mat-error>
                                Department is required.
                            </mat-error>
                            }
                        </mat-form-field>
                    </div>
                </div>

                <div class="form-actions">
                    <button mat-raised-button color="primary" type="submit">Create Employee</button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>